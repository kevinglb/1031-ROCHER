<!DOCTYPE>
<html lang='cn'>
	<head>
		<meta name="description" content="">
		 <meta charset="utf-8">
    	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
		<!-- rem js based on clientWidth-->
		<script async type="text/javascript">
			(function(doc, win) {
    			var docEl = doc.documentElement,
        			resizee = 'orientationchange' in window ? 'orientationchange' : 'resize',
        			recalc = function() {
            			var clientWidth = docEl.clientWidth;
            			if (!clientWidth) return;
    						docEl.style.fontSize = 12*(clientWidth / 375) + 'px';
   						};
    				if (!doc.addEventListener) return;
    				win.addEventListener(resizee, recalc, false);
    				doc.addEventListener('DOMContentLoaded', recalc, false);
			})(document, window);
		</script>
    	<link rel="stylesheet" type="text/css" href="css/swiper.min.css"/>
    	<link rel="stylesheet" type="text/css" href="css/style.css"/>
    	<link type="image" href="image/float-btn.jpg"/>
    	<link type="image" href="image/float-bg.png"/>
    	<link type="image" href="image/float-content.png">
	</head>
	<body>

		<div id="" class="mainWrap">
			<div class="swiper-container">
  				<div class="swiper-wrapper">
    				<div class="swiper-slide slide1">
    					<div class="text ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="0.4s">
	    					<p class="text-center">有时候，<br/>谢谢是一句不是那么好开口的话<br/>说多了，显得生分<br/>不说，显得不懂感恩</p>
	    				</div>
	    				<div class="title ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="1.2s"></div>
	    				<a class="arrow-btn ani infinite" swiper-animate-effect="moving" swiper-animate-duration="1s" swiper-animate-delay="2s"><img src="image/arrow-down.png"></a>
    				</div>
    				<div class="swiper-slide stop-swiping slide2 ">
    					<div class="title ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="0.4s"></div>
    					<div class="text ani" swiper-animate-effect="fadeInUp" swiper-animate-duration="0.8s" swiper-animate-delay="1.2s">
	    					<p class="text-center">您的谢谢，可以请金句女王马薇薇替您开口<br/>也可以让宝岛辩魂黄执中深情言谢</p>
	    				</div>
	    				
	    				<a class="btn btn-lg ani" data-slide="3" swiper-animate-effect="fadeIn" swiper-animate-duration="0.8s" swiper-animate-delay="2s"></a>
    				</div>
    				<div class="swiper-slide stop-swiping slide3">
    					<a class="btn ani" data-slide="4" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.8s" swiper-animate-delay="0.2s"></a>
    					<a class="btn ani" data-slide="5" swiper-animate-effect="fadeInLeft" swiper-animate-duration="0.8s" swiper-animate-delay="0.2s"></a>
    					<a class="btn ani" data-slide="6" swiper-animate-effect="fadeInRight" swiper-animate-duration="0.8s" swiper-animate-delay="0.2s"></a>
    				</div>
  				</div>
			</div>
		</div>
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" async src="js/swiper.min.js"></script>
		<script type="text/javascript" async src="js/swiper.animate.min.js"></script>
		<script type="text/javascript">
		$(function(){
			var swiper = new Swiper('.swiper-container',
				{direction : 'vertical',
				noSwiping : true,
				noSwipingClass : 'stop-swiping',	
					onInit: function(swiper){ //Swiper2.x的初始化是onFirstInit
    						swiperAnimateCache(swiper); //隐藏动画元素 
    						swiperAnimate(swiper); //初始化完成开始动画
    					}, 
  					onSlideChangeEnd: function(swiper){ 
    						swiperAnimate(swiper); //每个slide切换结束时也运行当前slide动画
  						}
  				 });
			var unbindEvent = function(){
				$('.swiper-slide .float-btn').unbind('click');
				$('.swiper-slide .float-wrap .float-close').unbind('click');
			}
			var bindEvent = function(){
				$('.swiper-slide .float-btn').bind('click',function(event){
					event.stopPropagation();
					event.preventDefault();
					var slide = $(this).parent('.swiper-slide');
					var floatWrap = slide.find(".float-wrap");
					if(floatWrap.is(':visible')){
						return;
					}else{
						floatWrap.fadeIn();
					}
				});

				$('.swiper-slide .float-wrap .float-close').bind('click',function(event){
					event.stopPropagation();
					event.preventDefault();
					var floatWrap = $(this).parent('.float-wrap');
					if(floatWrap.is(':visible')){
						floatWrap.fadeOut();
					}else{
						return;
					}
				});

				$("textarea").bind('input propertychange', function() {  
        			var maxLength = $(this).attr('maxlength');  
        			// if ($(this).val().length > maxLength) {  
           //  			$(this).val($(this).val().substring(0, maxLength));  
        			// }  
        			if ($(this).val().match(/[\u3400-\u9FBF]/) && $(this).val().length >= maxLength/2) {
           				
            			$(this).val($(this).val().substring(0,maxLength/2));
        			}else if ($(this).val().length >= maxLength){
            			
            			$(this).val($(this).val().substring(0,maxLength));
        			}
   				});
			};

			$('.swiper-slide .btn').bind('click',function(){
				var s = $(this).attr('data-slide');
				// var newSlide = document.createElement('div');
				// newSlide.classList.add('swiper-slide');
				var newSlide;
				switch(s){
					case '3':
						swiper.slideNext();
						break;
					case '4':
						newSlide = '<div class="swiper-slide stop-swiping slide4"><div class="title"></div><a class="btn" href=""></a><a class="float-btn"></a><div class="float-wrap"><img src="image/float-content.png"/><a class="float-close"></a></div></div>';
						swiper.appendSlide(newSlide);
						swiper.slideNext();
						unbindEvent();
						bindEvent();
						break;
					case '5':
						newSlide = '<div class="swiper-slide stop-swiping slide5"><div class="title"></div><a class="btn" href=""></a><a class="float-btn"></a><div class="float-wrap"><img src="image/float-content.png"/><a class="float-close"></a></div></div>';
						swiper.appendSlide(newSlide);
						swiper.slideNext();
						unbindEvent();
						bindEvent();
						break;
					case '6':
						newSlide = '<div class="swiper-slide stop-swiping slide6"><a class="btn"></a><div class="input-field"><textarea maxlength="34"></textarea></div><a class="float-btn" href=""></a><div class="float-wrap"><img src="image/float-content.png"/><a class="float-close"></a></div></div>';
						swiper.appendSlide(newSlide);
						swiper.slideNext();
						unbindEvent();
						bindEvent();
						break;
				}
			});

		});		
		</script>
	</body>
</html>